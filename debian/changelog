nginx (1:1.17.9-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 04 Mar 2020 08:02:02 +0300

nginx (1:1.17.7-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 24 Dec 2019 22:08:01 +0300

nginx (1:1.17.6-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 20 Nov 2019 09:00:55 +0300

nginx (1:1.17.5-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 23 Oct 2019 08:53:57 +0300

nginx (1:1.17.4-2) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - Core: removed dead code in ngx_rbtree_delete()

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 08 Oct 2019 09:58:12 +0300

nginx (1:1.17.4-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 24 Sep 2019 21:00:46 +0300

nginx (1:1.17.3-1) experimental; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - HTTP/2: discard remaining request body after redirect
    - Detect runaway chunks in ngx_http_parse_chunked()
    - Fixed "return" with discarding invalid chunked body
    - HTTP/2: close connection on frames with self-dependency
    - HTTP/2: close connection on zero WINDOW_UPDATE
    - Resolver: fixed possible use-after-free while resolving PTR

 -- Konstantin Demin <rockdrilla@gmail.com>  Sun, 15 Sep 2019 12:39:38 +0300

nginx (1:1.17.2-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 24 Jul 2019 14:52:08 +0300

nginx (1:1.17.0-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 22 May 2019 21:45:33 +0300

nginx (1:1.15.12-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 17 Apr 2019 16:50:49 +0300

nginx (1:1.15.10-1) experimental; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - SSL: missing free calls in $ssl_client_s_dn and $ssl_client_i_dn.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 27 Mar 2019 09:40:43 +0300

nginx (1:1.15.9-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 27 Feb 2019 13:19:17 +0300

nginx (1:1.15.8-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Sat, 29 Dec 2018 10:23:47 +0300

nginx (1:1.15.7-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 28 Nov 2018 09:11:59 +0300

nginx (1:1.15.6-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 06 Nov 2018 21:22:32 +0300

nginx (1:1.15.5-1) experimental; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - Upstream: proxy_socket_keepalive and friends.

 -- Konstantin Demin <rockdrilla@gmail.com>  Thu, 04 Oct 2018 10:08:53 +0300

nginx (1:1.15.4-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 26 Sep 2018 09:09:54 +0300

nginx (1:1.15.3-2) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - gRPC: improved keepalive handling.
    - gRPC: disabled keepalive when sending control frames was blocked.
    - Lingering close changed to handle NGX_AGAIN.
    - SSL: corrected SSL_ERROR_WANT_WRITE / SSL_ERROR_WANT_READ logging.
    - SSL: restore handlers after blocking.

 -- Konstantin Demin <rockdrilla@gmail.com>  Thu, 13 Sep 2018 10:06:03 +0300

nginx (1:1.15.3-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.
  * Cherry-pick upstream patches:
    - Stream: avoid potential infinite loop at preread phase.

 -- Konstantin Demin <rockdrilla@gmail.com>  Fri, 07 Sep 2018 09:33:33 +0300

nginx (1:1.15.2-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.
  * Cherry-pick upstream patches:
    - Configure: fixed compiler warnings with "-Wall -Wextra".

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 25 Jul 2018 09:44:27 +0300

nginx (1:1.15.0-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.
  * Cherry-pick upstream patches:
    - Added missing space after ngx_close_socket_n.
    - SSL: removed extra prototype.
    - Allowed digits, '+', '-', and '.' in scheme names as per RFC 3986.
    - HTTP/2: validate client request scheme.
    - Removed extraneous check while processing request line.
    - Added r->schema.
    - HTTP/2: use scheme from original request for pushes (closes #1549).

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 12 Jun 2018 16:33:35 +0300

nginx (1:1.14.0-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.
  * Cherry-pick upstream patches:
    - Cache: fixed cache valid slot to reject incorrect statuses.
    - Mail: fixed error message about missing ssl_certificate_key.
    - SSL: detect "listen ... ssl" without certificates (ticket #178).
    - SSL: deprecated the "ssl" directive.
    - Silenced -Wcast-function-type warnings (closes #1546).
    - Syslog: re-open syslog udp socket on send error (ticket #1477).
    - Configure: fixed clang version detection (closes #1539).

 -- Konstantin Demin <rockdrilla@gmail.com>  Mon, 14 May 2018 17:48:45 +0300

nginx (1:1.13.9-2) experimental; urgency=medium

  * Switch to OpenSSL 1.1.x.

 -- Konstantin Demin <rockdrilla@gmail.com>  Mon, 26 Feb 2018 10:01:52 +0300

nginx (1:1.13.9-1) experimental; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - Geo: fixed memory allocation error handling (closes #1482).
    - Geo: optimized configuration parser.
    - Geo: fixed indentation.
    - HTTP/2: style.
    - Generate error for unsupported IPv6 transparent proxy.

 -- Konstantin Demin <rockdrilla@gmail.com>  Thu, 22 Feb 2018 20:28:48 +0300

nginx (1:1.13.8-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 27 Dec 2017 09:52:28 +0300

nginx (1:1.13.7-1) UNRELEASED; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - Configure: fixed clang detection on MINIX.
    - Fixed "changing binary" when reaper is not init.
    - Removed unused FreeBSD-specific definitions in ngx_posix_config.h.
    - Autoindex: discard request body (ticket #1439).
    - Upstream keepalive: clean read delayed flag in stored connections.
    - Upstream: flush low-level buffers on write retry.
    - Proxy: simplified conditions of using unparsed uri.
    - Inherit valid_unparsed_uri in cloned subrequests (ticket #1430).
    - Proxy: escape explicit space in URI in default cache key.
    - Configure: moved IP_BIND_ADDRESS_NO_PORT test.
    - Configure: fixed SO_BINDANY comment.
    - Configure: set default cacheline size to 64 for aarch64 platforms.
    - Use sysconf to determine cacheline size at runtime.
    - Retain CAP_NET_RAW capability for transparent proxying.
    - Improved the capabilities feature detection.
    - Fixed capabilities version.
  * Refresh own patches.
  * Remove "root-nginx" instance:
    upstream patch "Retain CAP_NET_RAW capability for transparent proxying"
    eliminates need of separate instance.

 -- Konstantin Demin <rockdrilla@gmail.com>  Thu, 14 Dec 2017 11:54:13 +0300

nginx (1:1.13.6-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 10 Oct 2017 19:38:32 +0300

nginx (1:1.13.5-6) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - MIME: added most common OpenDocument types.
    - Upstream: better handling of invalid headers in cache files.
    - Cache: fixed caching of intercepted errors (ticket #1382).
    - HTTP/2: enforce writing the sync request body buffer to file.
    - Fixed buffer overread with unix sockets after accept().
    - Fixed handling of non-null-terminated unix sockets.
    - Fixed handling of unix sockets in $binary_remote_addr.

 -- Konstantin Demin <rockdrilla@gmail.com>  Thu, 05 Oct 2017 10:16:24 +0300

nginx (1:1.13.5-5) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - Do not use the obsolete NGX_SOCKADDRLEN macro.
    - Modules compatibility: down flag promoted to a bitmask.
    - Fixed the NGX_UNIX_ADDRSTRLEN macro.

 -- Konstantin Demin <rockdrilla@gmail.com>  Fri, 29 Sep 2017 09:41:23 +0300

nginx (1:1.13.5-4) experimental; urgency=medium

  * Fix shell scripts (enforce '-e' option).
  * Produce full sysvinit scripts during build;
    previously, common sysvinit functions were placed in separate file in
    /usr/share/nginx/, but after 'nginx' package removal the init scripts
    were broken.
  * Fix restart/try-restart action in sysvinit scripts.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 19 Sep 2017 14:15:50 +0300

nginx (1:1.13.5-3) experimental; urgency=medium

  * Cherry-pick upstream patch:
    - Removed more remnants of the old pthread implementation.
  * Remove upstart-related files.
  * Explicitly disable autoreconf.
  * Switch Priority of all packages to optional.
  * Fix init scripts.
  * Fix {pre|post}{inst|rm} scripts.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 19 Sep 2017 10:20:56 +0300

nginx (1:1.13.5-2) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - Stream: fixed logging UDP upstream timeout.
    - HTTP/2: added logging of 400 (Bad Request) reasons.
    - HTTP/2: fixed debug log about indexed headers.
    - HTTP/2: shortened some debug log messages.

 -- Konstantin Demin <rockdrilla@gmail.com>  Mon, 18 Sep 2017 00:36:14 +0300

nginx (1:1.13.5-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.
  * Cherry-pick upstream patches:
    - Stream: relaxed next upstream condition (ticket #1317).
    - HTTP/2: signal 0-byte HPACK's dynamic table size.
    - Fixed ngx_gmtime() on 32-bit platforms with 64-bit time_t.
    - Introduced time truncation to December 31, 9999 (ticket #1368).

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 13 Sep 2017 19:26:12 +0300

nginx (1:1.13.4-2) experimental; urgency=medium

  * Cherry-pick upstream patches:
    - SSL: the $ssl_client_escaped_cert variable
    - SSL: fixed possible use-after-free in $ssl_server_name
    - Upstream: unconditional parsing of last_modified_time
    - Secure link: fixed stack buffer overflow

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 23 Aug 2017 19:52:16 +0300

nginx (1:1.13.4-1) experimental; urgency=medium

  * New upstream release.
  * Drop cherry-picked patches.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 08 Aug 2017 22:24:07 +0300

nginx (1:1.13.3-4) experimental; urgency=medium

  * Remove hackish code which violates Debian Policy;
    now packages are built with debug information.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 08 Aug 2017 16:33:46 +0300

nginx (1:1.13.3-3) experimental; urgency=medium

  * Add common HTTP snippets.
  * Clarify {http,mail,stream}-ssl configuration.
  * Hide "Accept-Encoding" HTTP header from FastCGI backend.
  * Clarify snippet names (rename files):
    - "common-fastcgi" -> "common-fcgiwrap"
    - "common-cgi"     -> "common-fastcgi"

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 08 Aug 2017 12:29:29 +0300

nginx (1:1.13.3-2) experimental; urgency=medium

  * Switch to OpenSSL 1.0.x branch (for a while).

 -- Konstantin Demin <rockdrilla@gmail.com>  Mon, 24 Jul 2017 09:07:29 +0300

nginx (1:1.13.3-1) experimental; urgency=medium

  * New upstream release.
  * Cherry-pick upstream patches:
    - [core] disabled SO_REUSEPORT when testing config (ticket #1300)
    - [core] fixed error message on setsockopt(SO_REUSEPORT) failure

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 12 Jul 2017 00:45:02 +0300

nginx (1:1.13.2-1) experimental; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Wed, 28 Jun 2017 14:14:21 +0300

nginx (1:1.13.1-1) UNRELEASED; urgency=medium

  * New upstream release.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 30 May 2017 22:04:57 +0300

nginx (1:1.13.0-2) experimental; urgency=medium

  * Set default SSL cache size to 1M (was 4M).
  * Fix lintian warnings.
  * Speedup build.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 30 May 2017 21:06:07 +0300

nginx (1:1.13.0-1) experimental; urgency=high

  * Initial release of reworked nginx package.

 -- Konstantin Demin <rockdrilla@gmail.com>  Tue, 25 Apr 2017 20:25:34 +0300
